<Window
    x:Class="HUDRA.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:HUDRA.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:HUDRA"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Border
        x:Name="MainBorder"
        Background="Transparent"
        CornerRadius="20">
        <Grid x:Name="LayoutRoot">
            <Grid.ColumnDefinitions>
                <!--  Navigation bar column  -->
                <ColumnDefinition Width="60" />
                <!--  Content column  -->
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <!--  Vertical Navigation Bar  -->
            <Border
                Grid.Column="0"
                Margin="0"
                Background="#1A1A1A"
                CornerRadius="20,0,0,20">
                <Grid>
                    <Grid.RowDefinitions>
                        <!--  Top section for battery and main nav items  -->
                        <RowDefinition Height="*" />
                        <!--  Bottom section for settings and close buttons  -->
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <!--  Navigation Items  -->
                    <!--  Navigation Items  -->
                    <StackPanel
                        Grid.Row="0"
                        Margin="0,10,0,0"
                        HorizontalAlignment="Center"
                        Orientation="Vertical"
                        Spacing="0">

                        <!--  HUDRA Logo - Now the dedicated drag handle  -->
                        <Border
                            x:Name="LogoDragHandle"
                            Width="50"
                            Height="50"
                            Margin="0"
                            HorizontalAlignment="Center"
                            Background="Transparent"
                            CornerRadius="8"
                            ToolTipService.ToolTip="Drag me!">
                            <Image
                                Width="50"
                                Height="50"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Source="/Assets/HUDRA-logo-large-png.png"
                                Stretch="Uniform" />

                            <!--  Add a subtle visual hint that this is draggable  -->
                            <Border.Resources>
                                <Storyboard x:Key="HoverStoryboard">
                                    <DoubleAnimation
                                        Storyboard.TargetName="LogoDragHandle"
                                        Storyboard.TargetProperty="Opacity"
                                        To="0.8"
                                        Duration="0:0:0.1" />
                                </Storyboard>
                                <Storyboard x:Key="NormalStoryboard">
                                    <DoubleAnimation
                                        Storyboard.TargetName="LogoDragHandle"
                                        Storyboard.TargetProperty="Opacity"
                                        To="1.0"
                                        Duration="0:0:0.1" />
                                </Storyboard>
                            </Border.Resources>
                        </Border>

                        <!--  Battery status - moved to nav bar  -->
                        <StackPanel
                            x:Name="BatteryPanel"
                            Width="50"
                            Height="60"
                            Margin="0,0,0,10"
                            HorizontalAlignment="Center"
                            Background="Transparent"
                            Orientation="Vertical"
                            ToolTipService.ToolTip="{x:Bind BatteryToolTip, Mode=OneWay}">
                            <FontIcon
                                x:Name="BatteryIcon"
                                Margin="0"
                                HorizontalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="35"
                                Foreground="DarkGray"
                                Glyph="&#xE850;" />
                            <TextBlock
                                x:Name="BatteryText"
                                HorizontalAlignment="Center"
                                FontFamily="Cascadia Code"
                                FontSize="12"
                                FontWeight="SemiBold"
                                Foreground="{x:Bind BatteryTextBrush, Mode=OneWay}"
                                Text="{x:Bind BatteryPercentageText, Mode=OneWay}" />
                        </StackPanel>
                        <!--  Main Page Navigation Item (Home icon)  -->
                        <Button
                            x:Name="MainPageNavButton"
                            Width="60"
                            Height="60"
                            HorizontalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="MainPageNavButton_Click"
                            Style="{StaticResource NavigationButtonStyle}"
                            ToolTipService.ToolTip="Performance Controls">
                            <FontIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="25"
                                Glyph="&#xE80F;" />
                        </Button>

                        <!--  Fan Curve Navigation Item  -->
                        <Button
                            x:Name="FanCurveNavButton"
                            Width="60"
                            Height="60"
                            HorizontalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="FanCurveNavButton_Click"
                            Style="{StaticResource NavigationButtonStyle}"
                            ToolTipService.ToolTip="Fan Curve Configuration">
                            <FontIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="25"
                                Glyph="&#xEC49;" />
                        </Button>

                        <!--  Settings Navigation Item (Custom image)  -->
                        <Button
                            x:Name="SettingsNavButton"
                            Width="60"
                            Height="60"
                            HorizontalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="SettingsNavButton_Click"
                            Style="{StaticResource NavigationButtonStyle}"
                            ToolTipService.ToolTip="Settings">
                            <FontIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="25"
                                Glyph="&#xE713;" />
                        </Button>
                    </StackPanel>

                    <!--  Bottom section with Alt+Tab and Close buttons  -->
                    <StackPanel
                        Grid.Row="1"
                        Margin="0,0,0,20"
                        HorizontalAlignment="Center"
                        Orientation="Vertical"
                        Spacing="8">

                        <!--  Alt+Tab button  -->
                        <Button
                            x:Name="AltTabButton"
                            Width="50"
                            Height="50"
                            HorizontalAlignment="Center"
                            Click="AltTabButton_Click"
                            Style="{StaticResource GlowingGameButtonStyle}"
                            ToolTipService.ToolTip="Switch to Game &amp; Hide"
                            Visibility="Collapsed">
                            <FontIcon
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="20"
                                Glyph="&#xE8AB;" />
                        </Button>

                        <!--  Lossless Scaling button  -->
                        <Button
                            x:Name="LosslessScalingButton"
                            Width="50"
                            Height="50"
                            HorizontalAlignment="Center"
                            Click="LosslessScalingButton_Click"
                            Style="{StaticResource GlowingGameButtonStyle}"
                            Visibility="{x:Bind LosslessScalingButtonVisible, Mode=OneWay}">
                            <Image
                                Width="25"
                                Height="25"
                                Source="/Assets/ls-icon.png" />
                        </Button>

                        <!--  Close button  -->
                        <Button
                            x:Name="CloseButton"
                            Width="50"
                            Height="50"
                            HorizontalAlignment="Center"
                            HorizontalContentAlignment="Center"
                            VerticalContentAlignment="Center"
                            Click="CloseButton_Click"
                            ToolTipService.ToolTip="Hide">
                            <FontIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                FontSize="20"
                                Glyph="&#xE70D;" />
                        </Button>

                    </StackPanel>
                </Grid>
            </Border>

            <!--  Content Area  -->
            <Grid Grid.Column="1" Margin="0,0,0,0">
                <ScrollViewer
                    x:Name="ContentScrollViewer"
                    Padding="0,10,0,10"
                    HorizontalScrollBarVisibility="Disabled"
                    HorizontalScrollMode="Disabled"
                    VerticalScrollBarVisibility="Auto"
                    VerticalScrollMode="Auto"
                    ZoomMode="Disabled">
                    <Frame
                        x:Name="ContentFrame"
                        MaxWidth="320"
                        HorizontalAlignment="Center" />
                </ScrollViewer>
            </Grid>

        </Grid>
    </Border>
</Window>